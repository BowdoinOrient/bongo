language: python
python:
  - "2.7"
services:
  - postgresql
  - rabbitmq
install:
  - pip install -r reqs/travis.txt
env:
  - DJANGO_SETTINGS_MODULE="bongo.settings.travis" BONGO_SECRET_KEY="totallynotmyrealsecretkey" BONGO_LOGENTRIES_TOKEN="nopenotreal" BONGO_RAVEN_DSN="lolnope"
before_script:
  - psql -c 'create database bongo_test;' -U postgres
  - python manage.py syncdb --noinput
  - python manage.py nltk-init
script:
  - coverage run --source=bongo manage.py test
after_success:
  - coveralls