{% extends "base.html" %}

{% block content %}

    <div id="deck" class="deck js-packery">
        {% for card in deck %}
            {% include 'components/card.html' with card=card %}
        {% endfor %}
    </div>

    <div class="top-reads">
        {% include 'components/toplist.html' with toplist=toplist %}
    </div>

    <div class="homepage-content">
        <div class="left-col">
            {% for section in sections %}
                {% include 'components/section-summary.html' with section=section %}
            {% endfor %}
        </div>
        <div class="right-col">
            {% include 'components/twitter.html' %}
            {% include 'components/search.html' %}
            {% include 'components/scribd.html' with current_issue=current_issue %}
            {% include 'components/disqus-recent.html' %}
        </div>
    </div>

{% endblock %}

<!--  @TODO: Remove and replace with bower version -->
{% block nocompress %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/packery/1.4.3/packery.pkgd.min.js"></script>
    <script>
        var pck = new Packery('#deck', {
            "itemSelector": ".card",
            "columnWidth": ".card-w-1",
            "rowHeight": ".card-h-1"
        });
    </script>
{% endblock %}
